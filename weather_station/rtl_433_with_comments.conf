# config for rtl_433
#
# To be placed under ~/.config/rtl_433/rtl_433.conf

# A valid config line is a keyword followed by an argument to the end of line.
# Whitespace around the keyword is ignored, whitespace is space and tab
# Comments start with a hash sign, no inline comments, empty lines are ok.
#
# Boolean options can be true/false, yes/no, on/off, enable/disable, or 1/0
#
# All options will be applied in the order given, overwriting previous values.
# Options given on the command line are then applied left to right.
#
# Config files can be nested/stacked (use multiple -c and config_file = ).
#
# If no -c option is given the first `rtl_433.conf` found of this list will be loaded:
# - in the current working dir, i.e. `./rtl_433.conf`
# - in XDG_CONFIG_HOME, e.g. `$HOME/.config/rtl_433/`
# - in SYSCONFDIR, usually PREFIX/etc, e.g. `/usr/local/etc/rtl_433/`

## General options

# as command line option:
#   [-f <frequency>] [-f...] Receive frequency(s) (default: 433920000 Hz)
# default is "433.92M", other reasonable values are 315M, 345M, 915M and 868M
frequency     868M

# as command line option:
#   [-Y autolevel] Set minlevel automatically based on average estimated noise.
pulse_detect autolevel

# as command line option:
#   [-Y squelch] Skip frames below estimated noise level to lower cpu load.
pulse_detect squelch

# as command line option:
#   [-Y ampest | magest] Choose amplitude or magnitude level estimator.
pulse_detect magest

# as command line option:
#   [-M time[:<options>]|protocol|level|noise[:<secs>]|stats|bits] Add various metadata to every output line.
# Use "time" to add current date and time meta data (preset for live inputs).
# Use "time:rel" to add sample position meta data (preset for read-file and stdin).
# Use "time:unix" to show the seconds since unix epoch as time meta data. This is always UTC.
# Use "time:iso" to show the time with ISO-8601 format (YYYY-MM-DD"T"hh:mm:ss).
# Use "time:off" to remove time meta data.
# Use "time:usec" to add microseconds to date time meta data.
# Use "time:tz" to output time with timezone offset.
# Use "time:utc" to output time in UTC.
#   (this may also be accomplished by invocation with TZ environment variable set).
#   "usec" and "utc" can be combined with other options, eg. "time:iso:utc" or "time:unix:usec".
# Use "protocol" / "noprotocol" to output the decoder protocol number meta data.
# Use "level" to add Modulation, Frequency, RSSI, SNR, and Noise meta data.
# Use "noise[:secs]" to report estimated noise level at intervals (default: 10 seconds).
# Use "stats[:[<level>][:<interval>]]" to report statistics (default: 600 seconds).
#   level 0: no report, 1: report successful devices, 2: report active devices, 3: report all
# Use "bits" to add bit representation to code outputs (for debug).
#report_meta level
#report_meta noise
#report_meta stats
report_meta time:usec
#report_meta time:unix
#report_meta protocol

## Data output options

# as command line option:
#   [-F log|kv|json|csv|mqtt|influx|syslog|trigger|rtl_tcp|http|null] Produce decoded output in given format.
#     Without this option the default is LOG and KV output. Use "-F null" to remove the default.
#     Append output to file with :<filename> (e.g. -F csv:log.csv), defaults to stdout.
#   [-F mqtt[:[//]host[:port][,<options>]] (default: localhost:1883)
#     Specify MQTT server with e.g. -F mqtt://localhost:1883
#     Default user and password are read from MQTT_USERNAME and MQTT_PASSWORD env vars.
#     Add MQTT options with e.g. -F "mqtt://host:1883,opt=arg"
#     MQTT options are: user=foo, pass=bar, retain[=0|1], <format>[=topic]
#     Supported MQTT formats: (default is all)
#       events: posts JSON event data, default "<base>/events"
#       states: posts JSON state data, default "<base>/states"
#       devices: posts device and sensor info in nested topics,
#                default "<base>/devices[/type][/model][/subtype][/channel][/id]"
#     A base topic can be set with base=<topic>, default is "rtl_433/HOSTNAME".
#     Any topic string overrides the base topic and will expand keys like [/model]
#     E.g. -F "mqtt://localhost:1883,user=USERNAME,pass=PASSWORD,retain=0,devices=rtl_433[/id]"
#     With MQTT each rtl_433 instance needs a distinct driver selection. The MQTT Client-ID is computed from the driver string.
#     If you use multiple RTL-SDR, perhaps set a serial and select by that (helps not to get the wrong antenna).
#   [-F influx[:[//]host[:port][/<path and options>]]
#     Specify InfluxDB 2.0 server with e.g. -F "influx://localhost:9999/api/v2/write?org=<org>&bucket=<bucket>,token=<authtoken>"
#     Specify InfluxDB 1.x server with e.g. -F "influx://localhost:8086/write?db=<db>&p=<password>&u=<user>"
#       Additional parameter -M time:unix:usec:utc for correct timestamps in InfluxDB recommended
#   [-F syslog[:[//]host[:port] (default: localhost:514)
#     Specify host/port for syslog with e.g. -F syslog:127.0.0.1:1514
#   [-F trigger:/path/to/file]
#     Add an output that writes a "1" to the path for each event, use with a e.g. a GPIO
#   [-F rtl_tcp[:[//]bind[:port]] (default: localhost:1234)
#     Add a rtl_tcp pass-through server
#   [-F http[:[//]bind[:port]] (default: 0.0.0.0:8433)
#     Add a HTTP API server, a UI is at e.g. http://localhost:8433/
# default is "kv", multiple outputs can be used.
#output json
output mqtt://192.168.178.100,user=hass,pass=exxFUUA6&2gL%rh6v*@h,retain=1,devices=home/weather_station/devices[/type][/model][/subtype][/channel][/id],events=home/weather_station/events,states=home/weather_station/states


# as command line option:
#   [-K FILE | PATH | <tag> | <key>=<tag>] Add an expanded token or fixed tag to every output line.
# If <tag> is "FILE" or "PATH" an expanded token will be added.
# The <tag> can also be a GPSd URL, e.g.
#   -K gpsd,lat,lon" (report lat and lon keys from local gpsd)
#   -K loc=gpsd,lat,lon" (report lat and lon in loc object)
#   -K gpsd" (full json TPV report, in default "gps" object)
#   -K foo=gpsd://127.0.0.1:2947" (with key and address)
#   -K bar=gpsd,nmea" (NMEA default GPGGA report)
#   -K rmc=gpsd,nmea,filter='$GPRMC'" (NMEA GPRMC report)
# Also <tag> can be a generic tcp address, e.g.
#   -K foo=tcp:localhost:4000" (read lines as TCP client)
#   -K bar=tcp://127.0.0.1:3000,init='subscribe tags\\r\\n'"
#   -K baz=tcp://127.0.0.1:5000,filter='a prefix to match'"
#output_tag mytag
output_tag location=bshed

# as command line option:
#   [-C] native|si|customary Convert units in decoded output.
# default is "native"
convert si

## Protocols to enable (command line option "-R")

protocol 172 # Bresser Weather Center 6-in-1, 7-in-1 indoor, soil, new 5-in-1, 3-in-1 wind gauge, Froggit WH6000, Ventus C8488A
